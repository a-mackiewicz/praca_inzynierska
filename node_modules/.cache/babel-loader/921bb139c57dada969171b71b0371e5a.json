{"remainingRequest":"D:\\inzynierka\\projekt\\node_modules\\babel-loader\\lib\\index.js!D:\\inzynierka\\projekt\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\inzynierka\\projekt\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\inzynierka\\projekt\\src\\components\\ListPatients.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\inzynierka\\projekt\\src\\components\\ListPatients.vue","mtime":1617913360451},{"path":"D:\\inzynierka\\projekt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\inzynierka\\projekt\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\inzynierka\\projekt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\inzynierka\\projekt\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBQYXRpZW50czogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgYXBpVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9hcGkvcGF0aWVudHMnOwogICAgYXhpb3MuZ2V0KGFwaVVSTCwgewogICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAoX3RoaXMuJHBhcmVudC5zZWxlY3RlZFZpZXcgPT0gJzAnKSB7CiAgICAgICAgX3RoaXMuUGF0aWVudHMgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5QYXRpZW50cyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHJlcy5kYXRhW2ldLmRvY3RvcklkID09IF90aGlzLiRwYXJlbnQuc2VsZWN0ZWRWaWV3KSB7CiAgICAgICAgICAgIF90aGlzLlBhdGllbnRzLnB1c2gocmVzLmRhdGFbaV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHBhcmVudC5zZXRNZXNzYWdlKDApOwogICAgdGhpcy4kcGFyZW50LnN0YXRlID0gMTsKICAgIHRoaXMuJHBhcmVudC5jaGFuZ2VOYXYoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhY3RpdmVQYXRpZW50czogZnVuY3Rpb24gYWN0aXZlUGF0aWVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLlBhdGllbnRzLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgIGlmIChpLnN0YXRlICE9PSAnJykgewogICAgICAgICAgcmV0dXJuIGkuc3RhdGU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVBhdGllbnRzOiBmdW5jdGlvbiBkZWxldGVQYXRpZW50cyhpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBhcGlVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo0MDAwL2FwaS9kZWxldGUtcGF0aWVudC8iLmNvbmNhdChpZCk7CgogICAgICBpZiAod2luZG93LmNvbmZpcm0oIkNoY2VzeiB1c3VuxIXEhyBwYWNqZW50YT8iKSkgewogICAgICAgIGF4aW9zLmRlbGV0ZShhcGlVUkwpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2xpc3RfcGF0aWVudHMnKTsKCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["ListPatients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,KAAA,MAAA,OAAA;AACA,KAAA,CAAA,QAAA,CAAA,eAAA,GAAA,IAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OANA,qBAMA;AAAA;;AACA,QAAA,MAAA,GAAA,oCAAA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,MAAA,EAAA;AAAA,MAAA,eAAA,EAAA;AAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,YAAA,IAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAHA,MAGA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,CAAA,EAAA,QAAA,IAAA,KAAA,CAAA,OAAA,CAAA,YAAA,EAAA;AAEA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA;AACA;AACA;AACA,KAZA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAdA;AAeA,GAvBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AACA,SAAA,OAAA,CAAA,KAAA,GAAA,CAAA;AACA,SAAA,OAAA,CAAA,SAAA;AACA,GA5BA;AA6BA,EAAA,QAAA,EAAA;AACA,IAAA,cAAA,EAAA,0BAAA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,KAAA,KAAA,EAAA,EAAA;AACA,iBAAA,CAAA,CAAA,KAAA;AACA;AACA,OAJA,CAAA;AAKA;AAPA,GA7BA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,EADA,EACA;AAAA;;AACA,UAAA,MAAA,sDAAA,EAAA,CAAA;;AAEA,UAAA,MAAA,CAAA,OAAA,CAAA,yBAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,gBAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,SAHA,EAGA,KAHA,CAGA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SALA;AAMA;AAEA;AAbA;AAtCA,CAAA","sourcesContent":["<template>\r\n    <div class=\"row\"> \r\n        <div class=\"col-md-12 p-0\">\r\n            \r\n            <div class=\"table-responsive\">\r\n            <table class=\"table table-hover table-sm align-self-end mb-0\"  style=\"margin-top:0px;margin-bottom: 0;table-layout: fixed;\">\r\n                <thead class=\"text-light\" style=\"background-color: #8b0000;\">\r\n                    <tr>\r\n                        <th style=\"width:50px\">Lp.</th>\r\n                        <th>Imie</th>\r\n                        <th>Nazwisko</th>\r\n                        <th>Płeć</th>\r\n                        <th>Wiek</th>\r\n                        <th>Pesel</th>\r\n                        <th>Numer telefonu</th>\r\n                        <th>Status</th>\r\n                        <th style=\"width:200px\">Opcje</th>\r\n                    </tr>\r\n                </thead>\r\n            </table>\r\n            </div>\r\n            \r\n            <div id=\"divPatientList\" class=\"table-responsive\" style=\"height: calc(100vh - 371.6px);\">\r\n            <table class=\"table table-hover table-sm mb-0\" style=\"table-layout: fixed;\">\r\n                <tbody>\r\n                    <tr v-for=\"(patient, index) in Patients\" :key=\"patient._id\" >\r\n                        <td style=\"width:50px\">{{ ++index }}</td>\r\n                        <td>{{ patient.name }}</td>\r\n                        <td>{{ patient.surname }}</td>\r\n                        <td>{{ patient.gender }}</td>\r\n                        <td>{{ patient.age }}</td>\r\n                        <td>{{ patient.pesel }}</td>\r\n                        <td>{{ patient.phone }}</td>\r\n                        <td>{{ patient.state }}</td>\r\n                        <td style=\"width:200px\">\r\n                            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                            <router-link :to=\"{name: 'patient', params: { id: patient._id }}\" class=\"btn btn-sm btn-dark\">Wejdź\r\n                            </router-link>\r\n                            <button @click.prevent=\"deletePatients(patient._id)\" class=\"btn btn-sm btn-warning\">Usuń pracjenta</button>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from \"axios\";\r\n    axios.defaults.withCredentials = true;\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                Patients: [],\r\n            }\r\n        },\r\n        created() {\r\n            let apiURL = 'http://localhost:4000/api/patients';\r\n            axios.get(apiURL, {withCredentials: true}).then(res => {\r\n                if(this.$parent.selectedView == '0'){\r\n                this.Patients = res.data;\r\n                console.log(this.Patients)\r\n                } else {\r\n                    for(var i = 0; i < res.data.length; i++){\r\n                        if(res.data[i].doctorId == this.$parent.selectedView){\r\n                            \r\n                            this.Patients.push(res.data[i]);\r\n                        }\r\n                    }\r\n                }\r\n            }).catch(error => {\r\n                console.log(error)\r\n            });\r\n        },\r\n        mounted(){\r\n            this.$parent.setMessage(0);\r\n            this.$parent.state = 1;\r\n            this.$parent.changeNav();\r\n        },\r\n        computed: {\r\n            activePatients: function() {\r\n                return this.Patients.filter(function(i) {\r\n                    if(i.state !== ''){\r\n                        return i.state;\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        methods: {\r\n            deletePatients(id){\r\n                let apiURL = `http://localhost:4000/api/delete-patient/${id}`;\r\n\r\n                if (window.confirm(\"Chcesz usunąć pacjenta?\")) {\r\n                    axios.delete(apiURL).then(() => {\r\n                    this.$router.push('/list_patients');\r\n                    window.location.reload();\r\n                    }).catch(error => {\r\n                        console.log(error)\r\n                    });\r\n                }\r\n                \r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .btn-success {\r\n        margin-right: 10px;\r\n    }\r\n</style>"],"sourceRoot":"src/components"}]}